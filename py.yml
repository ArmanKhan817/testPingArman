- name: Run test.bat
  win_command: cmd.exe /c "C:\test\test.bat"
  register: bat_result
  ignore_errors: yes

- name: Show batch file execution result
  debug:
    var: bat_result.stdout_lines

- name: Read the output from output.txt
  win_slurp:
    src: C:\test\output.txt
  register: file_contents

- name: Display contents of output.txt
  debug:
    msg: "{{ file_contents['content'] | b64decode }}"

